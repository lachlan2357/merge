@use "mixins";
@use "overrides";
@use "animations";

// # imports
@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Quicksand:wght@300..700&family=Tektur:wght@400..900&display=swap");

// # css reset
* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
	scrollbar-width: thin;
}

// # custom properties
:root {
	// styles
	--box-shadow: 0 0 10px var(--shadow);
	--radius: 5px;

	// colours
	--error: crimson;

	--copy: darkgreen;
	--copy-hover: green;
	--copy-active: lightgreen;

	--open-with: darkcyan;
	--open-with-hover: lightseagreen;
	--open-with-active: lightblue;

	--background-colour: light-dark(#ddd, #111);
	--foreground-colour: light-dark(#eee, #222);
	--accent: light-dark(#fff, #333);
	--canvas: light-dark(#fff, #666);
	--shadow: light-dark(#ccc, #000);
	--text: light-dark(#000, #fff);
	--link: light-dark(darkblue, lightblue);

	// light/dark mode
	&[data-dark-mode="false"] {
		color-scheme: light;
	}

	&[data-dark-mode="true"] {
		color-scheme: dark;
	}
}

// ## set colour scheme based on @media if no dark mode attribute is present
@media (prefers-color-scheme: light) {
	:root:not([data-dark-mode]) {
		color-scheme: light;
	}
}

@media (prefers-color-scheme: dark) {
	:root:not([data-dark-mode]) {
		color-scheme: dark;
	}
}

// # fonts
h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: "TekTur", sans-serif;
	font-weight: 600;

	color: var(--text);
}

p,
a,
button,
input,
span {
	font-family: "Quicksand", sans-serif;
	font-weight: 300;

	color: var(--text);
}

code {
	font-family: "Fira Code", monospace;
	font-weight: 300;

	color: var(--text);
}

// # buttons & links
a {
	color: var(--link);
	cursor: pointer;

	&:active {
		color: var(--link);
	}

	&.link-chip {
		@include mixins.flexbox();
		background-color: var(--background-colour);
		border-radius: 10px;
		color: var(--text);
		padding: 10px;
		text-decoration: none;
		width: fit-content;

		&:hover {
			background-color: var(--accent);
			cursor: pointer;
		}

		&:active {
			background-color: var(--canvas);
		}
	}
}

button {
	cursor: pointer;
}

button,
input {
	background-color: var(--foreground-colour);
	border: none;
	border-radius: var(--radius);
}

a:has(i:only-child),
button:has(i:only-child) {
	@include mixins.icon-button();
}

// # landmarks
body {
	@include mixins.flexbox(column, 0);

	height: 100dvh;
	width: 100dvw;
	overflow: hidden;

	background-color: var(--background-colour);
}

header {
	@include mixins.flexbox(row);
	@include mixins.flexbox-align(center, center);

	padding-block: 3em;
	padding-inline: max(10%, 1.5em);

	background-color: var(--foreground-colour);
	box-shadow: var(--box-shadow);

	img {
		aspect-ratio: 1;
		height: 6.25em;

		border-radius: 50%;
	}
}

main {
	flex-grow: 1;
	padding: 1em;
	position: relative;
	overflow: hidden;

	width: 100%;

	&[error] {
		@include mixins.flexbox(column);
		@include mixins.flexbox-align(center, center);

		#canvas-container {
			display: none;
		}
	}
}

#popup {
	@include mixins.flexbox(column);

	margin: auto;
	max-block-size: calc(100svh - 2rem);
	width: min(95vw, 80ch);
	padding: 1em;
	z-index: 100;

	background-color: var(--background-colour);
	border: none;
	border-radius: var(--radius);
	box-shadow: var(--box-shadow);

	&[open] {
		animation: fade-in 0.25s;
	}

	&:not([open]) {
		display: none;
	}

	&[closing] {
		animation: fade-out 0.25s;
	}

	h2 {
		text-transform: capitalize;
	}

	#popup-close {
		right: 1em;
		top: 1em;
		position: absolute;
	}

	input[type="text"],
	input[type="url"] {
		height: 2.5em;
		padding-inline: 10px;

		background-color: var(--foreground-colour);
		border: none;
		border-radius: 5px;
	}

	input:invalid {
		outline: 2px solid var(--error);
	}

	.reset-button {
		aspect-ratio: 1;
		padding: 1em;
	}
}

#welcome-img {
	width: 6em;
	height: 6em;
	margin-inline: auto;
}

#welcome-heading {
	text-align: center;
}
